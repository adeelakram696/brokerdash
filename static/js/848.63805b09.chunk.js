"use strict";(self.webpackChunkbroker_dashboard=self.webpackChunkbroker_dashboard||[]).push([[848],{6541:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(770),r=n(8738),o=n.n(r),l=n(4414);const s=function(e){let{classnames:t,...n}=e;return(0,l.jsx)(a.A,{...n,showSearch:!0,filterOption:(e,t)=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},className:o()(t,"selectField")})}},7848:(e,t,n)=>{n.r(t),n.d(t,{default:()=>xe});var a=n(2746),r=n(4064),o=n(2612),l=n(9950),s=n(8738),c=n.n(s),i=n(7090),d=n(1929),u=n(6191),p=n(5741),m=n(5656),g=n(9415),f=n(183);const v=l.createContext({});var h=n(7409),b=n(5343),y=n(2672),x=n(1874);const S=e=>{const{antCls:t,componentCls:n,iconCls:a,avatarBg:r,avatarColor:o,containerSize:l,containerSizeLG:s,containerSizeSM:c,textFontSize:i,textFontSizeLG:d,textFontSizeSM:u,borderRadius:p,borderRadiusLG:m,borderRadiusSM:g,lineWidth:f,lineType:v}=e,y=(e,t,r)=>({width:e,height:e,borderRadius:"50%",["&".concat(n,"-square")]:{borderRadius:r},["&".concat(n,"-icon")]:{fontSize:t,["> ".concat(a)]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,b.dF)(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:o,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:r,border:"".concat((0,h.zA)(f)," ").concat(v," transparent"),"&-image":{background:"transparent"},["".concat(t,"-image-img")]:{display:"block"}}),y(l,i,p)),{"&-lg":Object.assign({},y(s,d,m)),"&-sm":Object.assign({},y(c,u,g)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},C=e=>{const{componentCls:t,groupBorderColor:n,groupOverlapping:a,groupSpace:r}=e;return{["".concat(t,"-group")]:{display:"inline-flex",["".concat(t)]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:a}},["".concat(t,"-group-popover")]:{["".concat(t," + ").concat(t)]:{marginInlineStart:r}}}},O=(0,y.OF)("Avatar",(e=>{const{colorTextLightSolid:t,colorTextPlaceholder:n}=e,a=(0,x.h1)(e,{avatarBg:n,avatarColor:t});return[S(a),C(a)]}),(e=>{const{controlHeight:t,controlHeightLG:n,controlHeightSM:a,fontSize:r,fontSizeLG:o,fontSizeXL:l,fontSizeHeading3:s,marginXS:c,marginXXS:i,colorBorderBg:d}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:a,textFontSize:Math.round((o+l)/2),textFontSizeLG:s,textFontSizeSM:r,groupSpace:i,groupOverlapping:-c,groupBorderColor:d}}));var j=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const w=(e,t)=>{const[n,a]=l.useState(1),[r,o]=l.useState(!1),[s,h]=l.useState(!0),b=l.useRef(null),y=l.useRef(null),x=(0,d.K4)(t,b),{getPrefixCls:S,avatar:C}=l.useContext(p.QO),w=l.useContext(v),E=()=>{if(!y.current||!b.current)return;const t=y.current.offsetWidth,n=b.current.offsetWidth;if(0!==t&&0!==n){const{gap:r=4}=e;2*r<n&&a(n-2*r<t?(n-2*r)/t:1)}};l.useEffect((()=>{o(!0)}),[]),l.useEffect((()=>{h(!0),a(1)}),[e.src]),l.useEffect(E,[e.gap]);const _=()=>{const{onError:t}=e;!1!==(null===t||void 0===t?void 0:t())&&h(!1)},{prefixCls:N,shape:z,size:A,src:B,srcSet:L,icon:P,className:k,rootClassName:R,alt:F,draggable:M,children:W,crossOrigin:I}=e,T=j(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),D=(0,g.A)((e=>{var t,n;return null!==(n=null!==(t=null!==A&&void 0!==A?A:null===w||void 0===w?void 0:w.size)&&void 0!==t?t:e)&&void 0!==n?n:"default"})),G=Object.keys("object"===typeof D&&D||{}).some((e=>["xs","sm","md","lg","xl","xxl"].includes(e))),H=(0,f.A)(G),K=l.useMemo((()=>{if("object"!==typeof D)return{};const e=u.ye.find((e=>H[e])),t=D[e];return t?{width:t,height:t,fontSize:t&&(P||W)?t/2:18}:{}}),[H,D]);const V=S("avatar",N),Y=(0,m.A)(V),[X,Q,U]=O(V,Y),q=c()({["".concat(V,"-lg")]:"large"===D,["".concat(V,"-sm")]:"small"===D}),Z=l.isValidElement(B),J=z||(null===w||void 0===w?void 0:w.shape)||"circle",$=c()(V,q,null===C||void 0===C?void 0:C.className,"".concat(V,"-").concat(J),{["".concat(V,"-image")]:Z||B&&s,["".concat(V,"-icon")]:!!P},U,Y,k,R,Q),ee="number"===typeof D?{width:D,height:D,fontSize:P?D/2:18}:{};let te;if("string"===typeof B&&s)te=l.createElement("img",{src:B,draggable:M,srcSet:L,onError:_,alt:F,crossOrigin:I});else if(Z)te=B;else if(P)te=P;else if(r||1!==n){const e="scale(".concat(n,")"),t={msTransform:e,WebkitTransform:e,transform:e};te=l.createElement(i.A,{onResize:E},l.createElement("span",{className:"".concat(V,"-string"),ref:y,style:Object.assign({},t)},W))}else te=l.createElement("span",{className:"".concat(V,"-string"),style:{opacity:0},ref:y},W);return delete T.onError,delete T.gap,X(l.createElement("span",Object.assign({},T,{style:Object.assign(Object.assign(Object.assign(Object.assign({},ee),K),null===C||void 0===C?void 0:C.style),T.style),className:$,ref:x}),te))};const E=l.forwardRef(w);var _=n(604),N=n(9156),z=n(1207),A=n(1478);const B=e=>e?"function"===typeof e?e():e:null;var L=n(9437),P=n(6680),k=n(9888),R=n(8691),F=n(6871),M=n(1201),W=n(8704);const I=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:a,fontWeightStrong:r,innerPadding:o,boxShadowSecondary:l,colorTextHeading:s,borderRadiusLG:c,zIndexPopup:i,titleMarginBottom:d,colorBgElevated:u,popoverBg:p,titleBorderBottom:m,innerContentPadding:g,titlePadding:f}=e;return[{[t]:Object.assign(Object.assign({},(0,b.dF)(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:i,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":u,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},["".concat(t,"-content")]:{position:"relative"},["".concat(t,"-inner")]:{backgroundColor:p,backgroundClip:"padding-box",borderRadius:c,boxShadow:l,padding:o},["".concat(t,"-title")]:{minWidth:a,marginBottom:d,color:s,fontWeight:r,borderBottom:m,padding:f},["".concat(t,"-inner-content")]:{color:n,padding:g}})},(0,F.Ay)(e,"var(--antd-arrow-background-color)"),{["".concat(t,"-pure")]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",["".concat(t,"-content")]:{display:"inline-block"}}}]},T=e=>{const{componentCls:t}=e;return{[t]:W.s.map((n=>{const a=e["".concat(n,"6")];return{["&".concat(t,"-").concat(n)]:{"--antd-arrow-background-color":a,["".concat(t,"-inner")]:{backgroundColor:a},["".concat(t,"-arrow")]:{background:"transparent"}}}}))}},D=(0,y.OF)("Popover",(e=>{const{colorBgElevated:t,colorText:n}=e,a=(0,x.h1)(e,{popoverBg:t,popoverColor:n});return[I(a),T(a),(0,R.aB)(a,"zoom-big")]}),(e=>{const{lineWidth:t,controlHeight:n,fontHeight:a,padding:r,wireframe:o,zIndexPopupBase:l,borderRadiusLG:s,marginXS:c,lineType:i,colorSplit:d,paddingSM:u}=e,p=n-a,m=p/2,g=p/2-t,f=r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:l+30},(0,M.n)(e)),(0,F.Ke)({contentRadius:s,limitVerticalRadius:!0})),{innerPadding:o?0:12,titleMarginBottom:o?0:c,titlePadding:o?"".concat(m,"px ").concat(f,"px ").concat(g,"px"):0,titleBorderBottom:o?"".concat(t,"px ").concat(i," ").concat(d):"none",innerContentPadding:o?"".concat(u,"px ").concat(f,"px"):0})}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var G=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const H=e=>{const{hashId:t,prefixCls:n,className:a,style:r,placement:o="top",title:s,content:i,children:d}=e;return l.createElement("div",{className:c()(t,n,"".concat(n,"-pure"),"".concat(n,"-placement-").concat(o),a),style:r},l.createElement("div",{className:"".concat(n,"-arrow")}),l.createElement(k.z,Object.assign({},e,{className:t,prefixCls:n}),d||((e,t,n)=>t||n?l.createElement(l.Fragment,null,t&&l.createElement("div",{className:"".concat(e,"-title")},B(t)),l.createElement("div",{className:"".concat(e,"-inner-content")},B(n))):null)(n,s,i)))},K=e=>{const{prefixCls:t,className:n}=e,a=G(e,["prefixCls","className"]),{getPrefixCls:r}=l.useContext(p.QO),o=r("popover",t),[s,i,d]=D(o);return s(l.createElement(H,Object.assign({},a,{prefixCls:o,hashId:i,className:c()(n,d)})))};var V=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const Y=e=>{let{title:t,content:n,prefixCls:a}=e;return l.createElement(l.Fragment,null,t&&l.createElement("div",{className:"".concat(a,"-title")},B(t)),l.createElement("div",{className:"".concat(a,"-inner-content")},B(n)))},X=l.forwardRef(((e,t)=>{var n,a;const{prefixCls:r,title:o,content:s,overlayClassName:i,placement:d="top",trigger:u="hover",children:m,mouseEnterDelay:g=.1,mouseLeaveDelay:f=.1,onOpenChange:v,overlayStyle:h={}}=e,b=V(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:y}=l.useContext(p.QO),x=y("popover",r),[S,C,O]=D(x),j=y(),w=c()(i,C,O),[E,_]=(0,z.A)(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(a=e.defaultOpen)&&void 0!==a?a:e.defaultVisible}),B=(e,t)=>{_(e,!0),null===v||void 0===v||v(e,t)};return S(l.createElement(P.A,Object.assign({placement:d,trigger:u,mouseEnterDelay:g,mouseLeaveDelay:f,overlayStyle:h},b,{prefixCls:x,overlayClassName:w,ref:t,open:E,onOpenChange:e=>{B(e)},overlay:o||s?l.createElement(Y,{prefixCls:x,title:o,content:s}):null,transitionName:(0,L.b)(j,"zoom-big",b.transitionName),"data-popover-inject":!0}),(0,N.Ob)(m,{onKeyDown:e=>{var t,n;l.isValidElement(m)&&(null===(n=null===m||void 0===m?void 0:(t=m.props).onKeyDown)||void 0===n||n.call(t,e)),(e=>{e.keyCode===A.A.ESC&&B(!1,e)})(e)}})))}));X._InternalPanelDoNotUseOrYouWillBeFired=K;const Q=X,U=e=>{const{size:t,shape:n}=l.useContext(v),a=l.useMemo((()=>({size:e.size||t,shape:e.shape||n})),[e.size,e.shape,t,n]);return l.createElement(v.Provider,{value:a},e.children)},q=e=>{const{getPrefixCls:t,direction:n}=l.useContext(p.QO),{prefixCls:a,className:r,rootClassName:o,style:s,maxCount:i,maxStyle:d,size:u,shape:g,maxPopoverPlacement:f="top",maxPopoverTrigger:v="hover",children:h}=e,b=t("avatar",a),y="".concat(b,"-group"),x=(0,m.A)(b),[S,C,j]=O(b,x),w=c()(y,{["".concat(y,"-rtl")]:"rtl"===n},j,x,r,o,C),z=(0,_.A)(h).map(((e,t)=>(0,N.Ob)(e,{key:"avatar-key-".concat(t)}))),A=z.length;if(i&&i<A){const e=z.slice(0,i),t=z.slice(i,A);return e.push(l.createElement(Q,{key:"avatar-popover-key",content:t,trigger:v,placement:f,overlayClassName:"".concat(y,"-popover"),destroyTooltipOnHide:!0},l.createElement(E,{style:d},"+".concat(A-i)))),S(l.createElement(U,{shape:g,size:u},l.createElement("div",{className:w,style:s},e)))}return S(l.createElement(U,{shape:g,size:u},l.createElement("div",{className:w,style:s},z)))},Z=E;Z.Group=q;const J=Z;var $=n(4051),ee=n(326),te=n(859),ne=n(6541),ae=n(4159),re=n.n(ae),oe=n(6338);const le="LeaderBoards_table__u3STH",se="LeaderBoards_headerRow__Bv7Lq",ce="LeaderBoards_headerColumnTitle__BbeRM",ie="LeaderBoards_dataColumnTitle__bj7wK",de="LeaderBoards_headerColumnPerson__JzV2F",ue="LeaderBoards_dataColumnPerson__V8O69",pe="LeaderBoards_dataRow__H-WEt",me="LeaderBoards_filterbar__nKucZ",ge="LeaderBoards_usersList__4ySG9",fe="LeaderBoards_filterField__14bMZ",ve="LeaderBoards_alternateColor__iGVHE";var he=n(4414);const{RangePicker:be}=a.A;const ye=function(e){let t,n,{withFilter:a}=e;const[s,i]=(0,l.useState)(!1),[d,u]=(0,l.useState)([]),[p,m]=(0,l.useState)([]),[g,f]=(0,l.useState)([]),[v,h]=(0,l.useState)([]),[b,y]=(0,l.useState)([re()(),re()()]),x=(0,l.useRef)(),[S,C]=(0,l.useState)([]),[O,j]=(0,l.useState)([]),w=async()=>{const e=await(0,$.iE)(ee._K.boards.salesActivities,"status"),t=Object.values(e).reduce(((e,t)=>(e[t.toLowerCase()]=t.toLowerCase(),e)),{}),n=ee.At.map((e=>e.toLowerCase())),a=(0,oe.Ye)(Object.keys(t),n);C(a)},E=async()=>{const e=await(0,$.Wd)();if(u(e),a){const t=null===e||void 0===e?void 0:e.map((e=>e.id));h(t)}},_=async function(e){i(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]);const t=await(0,$.EU)(e);j(t),i(!1)};(0,l.useEffect)((()=>{E(),w(),x.current=[re()(),re()()],a&&(async()=>{const e=await(0,$.Ym)(),t=null===e||void 0===e?void 0:e.map((e=>({value:e.id,label:e.name})));m(e),f(t)})()}),[]),(0,l.useEffect)((()=>{0!==d.length&&_(b)}),[d,b]);const N=e=>{let{data:t}=e;t.itemIds.includes(Number(ee._K.leaderEmployeeItemId))&&(n&&clearTimeout(n),n=setTimeout((()=>{E()}),3e3))};return(0,l.useEffect)((()=>a?null:(t=te.A.listen("events",N),()=>{t&&t()})),[]),(0,l.useEffect)((()=>{if(a)return null;const e=setInterval((()=>{var e;e=x.current,w(),_(e,!1)}),1e3*ee._K.performanceRefetchTime);return()=>{e&&clearInterval(e)}}),[]),(0,he.jsxs)(r.A,{vertical:!0,flex:1,children:[(0,he.jsx)(o.A,{tip:"Loading...",spinning:s,fullscreen:!0}),a?(0,he.jsxs)(r.A,{className:me,align:"center",children:[(0,he.jsx)(r.A,{children:"Filters: "}),(0,he.jsx)(r.A,{className:fe,children:(0,he.jsx)(ne.A,{classnames:ge,options:g,onChange:e=>{const t=p.filter((t=>e.includes(t.id)));u(t),h(e)},mode:"multiple",maxTagCount:3,placeholder:"Select Users",value:v})}),(0,he.jsx)(r.A,{className:fe,children:(0,he.jsx)(be,{value:b,placeholder:"Select Date Range",onChange:e=>{y(e),x.current=e},allowClear:!1,maxDate:re()(),format:"MM-DD-YYYY"})})]}):null,(0,he.jsxs)(r.A,{vertical:!0,className:le,children:[(0,he.jsxs)(r.A,{className:se,align:"center",children:[(0,he.jsx)(r.A,{className:ce,children:"Performance Leaderboard"}),d.map((e=>(0,he.jsxs)(r.A,{className:de,vertical:!0,justify:"center",align:"center",children:[(0,he.jsx)(r.A,{children:e.photo_thumb?(0,he.jsx)(J,{src:e.photo_thumb}):(0,he.jsx)(J,{children:e.name[0]})}),(0,he.jsx)(r.A,{children:e.name.split(" ")[0]})]})))]}),S.map(((e,t)=>(0,he.jsxs)(r.A,{className:c()(pe,{[ve]:t%2}),children:[(0,he.jsx)(r.A,{className:ie,align:"center",children:(0,oe.zX)(e)}),d.map((t=>(0,he.jsx)(r.A,{className:ue,justify:"center",align:"center",children:(O[e]||{})[t.id]||" "})))]})))]})]})};const xe=function(e){let{withFilter:t}=e;return(0,he.jsx)(ye,{withFilter:t})}}}]);