"use strict";(self.webpackChunkbroker_dashboard=self.webpackChunkbroker_dashboard||[]).push([[848],{6541:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(770),r=n(8738),o=n.n(r),s=n(4414);const l=function(e){let{classnames:t,...n}=e;return(0,s.jsx)(a.A,{...n,showSearch:!0,filterOption:(e,t)=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},className:o()(t,"selectField")})}},7848:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ye});var a=n(2746),r=n(4064),o=n(9950),s=n(8738),l=n.n(s),c=n(7090),i=n(1929),d=n(6191),u=n(5741),p=n(5656),m=n(9415),g=n(183);const f=o.createContext({});var v=n(7409),h=n(5343),b=n(2672),y=n(1874);const x=e=>{const{antCls:t,componentCls:n,iconCls:a,avatarBg:r,avatarColor:o,containerSize:s,containerSizeLG:l,containerSizeSM:c,textFontSize:i,textFontSizeLG:d,textFontSizeSM:u,borderRadius:p,borderRadiusLG:m,borderRadiusSM:g,lineWidth:f,lineType:b}=e,y=(e,t,r)=>({width:e,height:e,borderRadius:"50%",["&".concat(n,"-square")]:{borderRadius:r},["&".concat(n,"-icon")]:{fontSize:t,["> ".concat(a)]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,h.dF)(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:o,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:r,border:"".concat((0,v.zA)(f)," ").concat(b," transparent"),"&-image":{background:"transparent"},["".concat(t,"-image-img")]:{display:"block"}}),y(s,i,p)),{"&-lg":Object.assign({},y(l,d,m)),"&-sm":Object.assign({},y(c,u,g)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},C=e=>{const{componentCls:t,groupBorderColor:n,groupOverlapping:a,groupSpace:r}=e;return{["".concat(t,"-group")]:{display:"inline-flex",["".concat(t)]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:a}},["".concat(t,"-group-popover")]:{["".concat(t," + ").concat(t)]:{marginInlineStart:r}}}},O=(0,b.OF)("Avatar",(e=>{const{colorTextLightSolid:t,colorTextPlaceholder:n}=e,a=(0,y.h1)(e,{avatarBg:n,avatarColor:t});return[x(a),C(a)]}),(e=>{const{controlHeight:t,controlHeightLG:n,controlHeightSM:a,fontSize:r,fontSizeLG:o,fontSizeXL:s,fontSizeHeading3:l,marginXS:c,marginXXS:i,colorBorderBg:d}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:a,textFontSize:Math.round((o+s)/2),textFontSizeLG:l,textFontSizeSM:r,groupSpace:i,groupOverlapping:-c,groupBorderColor:d}}));var S=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const j=(e,t)=>{const[n,a]=o.useState(1),[r,s]=o.useState(!1),[v,h]=o.useState(!0),b=o.useRef(null),y=o.useRef(null),x=(0,i.K4)(t,b),{getPrefixCls:C,avatar:j}=o.useContext(u.QO),w=o.useContext(f),E=()=>{if(!y.current||!b.current)return;const t=y.current.offsetWidth,n=b.current.offsetWidth;if(0!==t&&0!==n){const{gap:r=4}=e;2*r<n&&a(n-2*r<t?(n-2*r)/t:1)}};o.useEffect((()=>{s(!0)}),[]),o.useEffect((()=>{h(!0),a(1)}),[e.src]),o.useEffect(E,[e.gap]);const _=()=>{const{onError:t}=e;!1!==(null===t||void 0===t?void 0:t())&&h(!1)},{prefixCls:N,shape:z,size:A,src:B,srcSet:P,icon:L,className:k,rootClassName:R,alt:F,draggable:M,children:W,crossOrigin:I}=e,T=S(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),D=(0,m.A)((e=>{var t,n;return null!==(n=null!==(t=null!==A&&void 0!==A?A:null===w||void 0===w?void 0:w.size)&&void 0!==t?t:e)&&void 0!==n?n:"default"})),G=Object.keys("object"===typeof D&&D||{}).some((e=>["xs","sm","md","lg","xl","xxl"].includes(e))),H=(0,g.A)(G),K=o.useMemo((()=>{if("object"!==typeof D)return{};const e=d.ye.find((e=>H[e])),t=D[e];return t?{width:t,height:t,fontSize:t&&(L||W)?t/2:18}:{}}),[H,D]);const V=C("avatar",N),Y=(0,p.A)(V),[X,Q,U]=O(V,Y),q=l()({["".concat(V,"-lg")]:"large"===D,["".concat(V,"-sm")]:"small"===D}),Z=o.isValidElement(B),J=z||(null===w||void 0===w?void 0:w.shape)||"circle",$=l()(V,q,null===j||void 0===j?void 0:j.className,"".concat(V,"-").concat(J),{["".concat(V,"-image")]:Z||B&&v,["".concat(V,"-icon")]:!!L},U,Y,k,R,Q),ee="number"===typeof D?{width:D,height:D,fontSize:L?D/2:18}:{};let te;if("string"===typeof B&&v)te=o.createElement("img",{src:B,draggable:M,srcSet:P,onError:_,alt:F,crossOrigin:I});else if(Z)te=B;else if(L)te=L;else if(r||1!==n){const e="scale(".concat(n,")"),t={msTransform:e,WebkitTransform:e,transform:e};te=o.createElement(c.A,{onResize:E},o.createElement("span",{className:"".concat(V,"-string"),ref:y,style:Object.assign({},t)},W))}else te=o.createElement("span",{className:"".concat(V,"-string"),style:{opacity:0},ref:y},W);return delete T.onError,delete T.gap,X(o.createElement("span",Object.assign({},T,{style:Object.assign(Object.assign(Object.assign(Object.assign({},ee),K),null===j||void 0===j?void 0:j.style),T.style),className:$,ref:x}),te))};const w=o.forwardRef(j);var E=n(604),_=n(9156),N=n(1207),z=n(1478);const A=e=>e?"function"===typeof e?e():e:null;var B=n(9437),P=n(6680),L=n(9888),k=n(8691),R=n(6871),F=n(1201),M=n(8704);const W=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:a,fontWeightStrong:r,innerPadding:o,boxShadowSecondary:s,colorTextHeading:l,borderRadiusLG:c,zIndexPopup:i,titleMarginBottom:d,colorBgElevated:u,popoverBg:p,titleBorderBottom:m,innerContentPadding:g,titlePadding:f}=e;return[{[t]:Object.assign(Object.assign({},(0,h.dF)(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:i,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":u,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},["".concat(t,"-content")]:{position:"relative"},["".concat(t,"-inner")]:{backgroundColor:p,backgroundClip:"padding-box",borderRadius:c,boxShadow:s,padding:o},["".concat(t,"-title")]:{minWidth:a,marginBottom:d,color:l,fontWeight:r,borderBottom:m,padding:f},["".concat(t,"-inner-content")]:{color:n,padding:g}})},(0,R.Ay)(e,"var(--antd-arrow-background-color)"),{["".concat(t,"-pure")]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",["".concat(t,"-content")]:{display:"inline-block"}}}]},I=e=>{const{componentCls:t}=e;return{[t]:M.s.map((n=>{const a=e["".concat(n,"6")];return{["&".concat(t,"-").concat(n)]:{"--antd-arrow-background-color":a,["".concat(t,"-inner")]:{backgroundColor:a},["".concat(t,"-arrow")]:{background:"transparent"}}}}))}},T=(0,b.OF)("Popover",(e=>{const{colorBgElevated:t,colorText:n}=e,a=(0,y.h1)(e,{popoverBg:t,popoverColor:n});return[W(a),I(a),(0,k.aB)(a,"zoom-big")]}),(e=>{const{lineWidth:t,controlHeight:n,fontHeight:a,padding:r,wireframe:o,zIndexPopupBase:s,borderRadiusLG:l,marginXS:c,lineType:i,colorSplit:d,paddingSM:u}=e,p=n-a,m=p/2,g=p/2-t,f=r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:s+30},(0,F.n)(e)),(0,R.Ke)({contentRadius:l,limitVerticalRadius:!0})),{innerPadding:o?0:12,titleMarginBottom:o?0:c,titlePadding:o?"".concat(m,"px ").concat(f,"px ").concat(g,"px"):0,titleBorderBottom:o?"".concat(t,"px ").concat(i," ").concat(d):"none",innerContentPadding:o?"".concat(u,"px ").concat(f,"px"):0})}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var D=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const G=e=>{const{hashId:t,prefixCls:n,className:a,style:r,placement:s="top",title:c,content:i,children:d}=e;return o.createElement("div",{className:l()(t,n,"".concat(n,"-pure"),"".concat(n,"-placement-").concat(s),a),style:r},o.createElement("div",{className:"".concat(n,"-arrow")}),o.createElement(L.z,Object.assign({},e,{className:t,prefixCls:n}),d||((e,t,n)=>t||n?o.createElement(o.Fragment,null,t&&o.createElement("div",{className:"".concat(e,"-title")},A(t)),o.createElement("div",{className:"".concat(e,"-inner-content")},A(n))):null)(n,c,i)))},H=e=>{const{prefixCls:t,className:n}=e,a=D(e,["prefixCls","className"]),{getPrefixCls:r}=o.useContext(u.QO),s=r("popover",t),[c,i,d]=T(s);return c(o.createElement(G,Object.assign({},a,{prefixCls:s,hashId:i,className:l()(n,d)})))};var K=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const V=e=>{let{title:t,content:n,prefixCls:a}=e;return o.createElement(o.Fragment,null,t&&o.createElement("div",{className:"".concat(a,"-title")},A(t)),o.createElement("div",{className:"".concat(a,"-inner-content")},A(n)))},Y=o.forwardRef(((e,t)=>{var n,a;const{prefixCls:r,title:s,content:c,overlayClassName:i,placement:d="top",trigger:p="hover",children:m,mouseEnterDelay:g=.1,mouseLeaveDelay:f=.1,onOpenChange:v,overlayStyle:h={}}=e,b=K(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:y}=o.useContext(u.QO),x=y("popover",r),[C,O,S]=T(x),j=y(),w=l()(i,O,S),[E,A]=(0,N.A)(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(a=e.defaultOpen)&&void 0!==a?a:e.defaultVisible}),L=(e,t)=>{A(e,!0),null===v||void 0===v||v(e,t)};return C(o.createElement(P.A,Object.assign({placement:d,trigger:p,mouseEnterDelay:g,mouseLeaveDelay:f,overlayStyle:h},b,{prefixCls:x,overlayClassName:w,ref:t,open:E,onOpenChange:e=>{L(e)},overlay:s||c?o.createElement(V,{prefixCls:x,title:s,content:c}):null,transitionName:(0,B.b)(j,"zoom-big",b.transitionName),"data-popover-inject":!0}),(0,_.Ob)(m,{onKeyDown:e=>{var t,n;o.isValidElement(m)&&(null===(n=null===m||void 0===m?void 0:(t=m.props).onKeyDown)||void 0===n||n.call(t,e)),(e=>{e.keyCode===z.A.ESC&&L(!1,e)})(e)}})))}));Y._InternalPanelDoNotUseOrYouWillBeFired=H;const X=Y,Q=e=>{const{size:t,shape:n}=o.useContext(f),a=o.useMemo((()=>({size:e.size||t,shape:e.shape||n})),[e.size,e.shape,t,n]);return o.createElement(f.Provider,{value:a},e.children)},U=e=>{const{getPrefixCls:t,direction:n}=o.useContext(u.QO),{prefixCls:a,className:r,rootClassName:s,style:c,maxCount:i,maxStyle:d,size:m,shape:g,maxPopoverPlacement:f="top",maxPopoverTrigger:v="hover",children:h}=e,b=t("avatar",a),y="".concat(b,"-group"),x=(0,p.A)(b),[C,S,j]=O(b,x),N=l()(y,{["".concat(y,"-rtl")]:"rtl"===n},j,x,r,s,S),z=(0,E.A)(h).map(((e,t)=>(0,_.Ob)(e,{key:"avatar-key-".concat(t)}))),A=z.length;if(i&&i<A){const e=z.slice(0,i),t=z.slice(i,A);return e.push(o.createElement(X,{key:"avatar-popover-key",content:t,trigger:v,placement:f,overlayClassName:"".concat(y,"-popover"),destroyTooltipOnHide:!0},o.createElement(w,{style:d},"+".concat(A-i)))),C(o.createElement(Q,{shape:g,size:m},o.createElement("div",{className:N,style:c},e)))}return C(o.createElement(Q,{shape:g,size:m},o.createElement("div",{className:N,style:c},z)))},q=w;q.Group=U;const Z=q;var J=n(4051),$=n(326),ee=n(859),te=n(6541),ne=n(4159),ae=n.n(ne),re=n(6338);const oe="LeaderBoards_table__u3STH",se="LeaderBoards_headerRow__Bv7Lq",le="LeaderBoards_headerColumnTitle__BbeRM",ce="LeaderBoards_dataColumnTitle__bj7wK",ie="LeaderBoards_headerColumnPerson__JzV2F",de="LeaderBoards_dataColumnPerson__V8O69",ue="LeaderBoards_dataRow__H-WEt",pe="LeaderBoards_filterbar__nKucZ",me="LeaderBoards_usersList__4ySG9",ge="LeaderBoards_filterField__14bMZ",fe="LeaderBoards_alternateColor__iGVHE";var ve=n(4414);const{RangePicker:he}=a.A;const be=function(e){let t,n,{withFilter:a}=e;const[s,c]=(0,o.useState)([]),[i,d]=(0,o.useState)([]),[u,p]=(0,o.useState)([]),[m,g]=(0,o.useState)([]),[f,v]=(0,o.useState)([ae()(),ae()()]),h=(0,o.useRef)(),[b,y]=(0,o.useState)([]),[x,C]=(0,o.useState)([]),O=async()=>{const e=await(0,J.iE)($._K.boards.salesActivities,"status"),t=Object.values(e).reduce(((e,t)=>(e[t.toLowerCase()]=t.toLowerCase(),e)),{}),n=$.At.map((e=>e.toLowerCase())),a=(0,re.Ye)(Object.keys(t),n);y(a)},S=async()=>{const e=await(0,J.Wd)();if(c(e),a){const t=null===e||void 0===e?void 0:e.map((e=>e.id));g(t)}},j=async e=>{const t=await(0,J.EU)(e);C(t)};(0,o.useEffect)((()=>{S(),O(),h.current=[ae()(),ae()()],a&&(async()=>{const e=await(0,J.Ym)(),t=null===e||void 0===e?void 0:e.map((e=>({value:e.id,label:e.name})));d(e),p(t)})()}),[]),(0,o.useEffect)((()=>{0!==s.length&&j(f)}),[s,f]);const w=e=>{let{data:t}=e;t.itemIds.includes(Number($._K.leaderEmployeeItemId))&&(n&&clearTimeout(n),n=setTimeout((()=>{S()}),3e3))};return(0,o.useEffect)((()=>a?null:(t=ee.A.listen("events",w),()=>{t&&t()})),[]),(0,o.useEffect)((()=>{const e=setInterval((()=>{var e;e=h.current,O(),j(e)}),1e3*$._K.performanceRefetchTime);return()=>{e&&clearInterval(e)}}),[]),(0,ve.jsxs)(r.A,{vertical:!0,flex:1,children:[a?(0,ve.jsxs)(r.A,{className:pe,align:"center",children:[(0,ve.jsx)(r.A,{children:"Filters: "}),(0,ve.jsx)(r.A,{className:ge,children:(0,ve.jsx)(te.A,{classnames:me,options:u,onChange:e=>{const t=i.filter((t=>e.includes(t.id)));c(t),g(e)},mode:"multiple",maxTagCount:3,placeholder:"Select Users",value:m})}),(0,ve.jsx)(r.A,{className:ge,children:(0,ve.jsx)(he,{value:f,placeholder:"Select Date Range",onChange:e=>{v(e),h.current=e},allowClear:!1,maxDate:ae()(),format:"MM-DD-YYYY"})})]}):null,(0,ve.jsxs)(r.A,{vertical:!0,className:oe,children:[(0,ve.jsxs)(r.A,{className:se,align:"center",children:[(0,ve.jsx)(r.A,{className:le,children:"Performance Leaderboard"}),s.map((e=>(0,ve.jsxs)(r.A,{className:ie,vertical:!0,justify:"center",align:"center",children:[(0,ve.jsx)(r.A,{children:e.photo_thumb?(0,ve.jsx)(Z,{src:e.photo_thumb}):(0,ve.jsx)(Z,{children:e.name[0]})}),(0,ve.jsx)(r.A,{children:e.name.split(" ")[0]})]})))]}),b.map(((e,t)=>(0,ve.jsxs)(r.A,{className:l()(ue,{[fe]:t%2}),children:[(0,ve.jsx)(r.A,{className:ce,align:"center",children:(0,re.zX)(e)}),s.map((t=>(0,ve.jsx)(r.A,{className:de,justify:"center",align:"center",children:(x[e]||{})[t.id]||" "})))]})))]})]})};const ye=function(e){let{withFilter:t}=e;return(0,ve.jsx)(be,{withFilter:t})}}}]);